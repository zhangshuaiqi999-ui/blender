# 📘 DaVinci Resolve 节点系统 (原生定义版)

### 1. 核心定义：什么是“节点” (The Node)？

在达芬奇中，一个节点不是一个“单一功能滤镜”，而是一个**完整的图像处理容器 (Image Processing Container)**。

- **它的本质：** 一个节点就是一个独立的“调色台”。
- **它的能力：** 每一个标准节点（Corrector）内部都**同时包含**了：一级校色（色轮）、二级校色（曲线/限定器）、空间操作（遮罩/跟踪）、以及插件运算（OFX）。
- **运算逻辑：** 信号从左边输入，经过节点内部所有工具的叠加处理，从右边输出。

------

### 2. 节点图的“六大结构” (Node Structures)

达芬奇的节点图（Node Graph）描述的是**信号流动的路径**。

#### ① Serial Node (串行节点) | `Alt + S`

- **原生逻辑：** **累加 (Accumulation)**。
- **定义：** 信号流是单向的。前一个节点的输出结果（RGB + Alpha），完整地作为下一个节点的输入源。
- **作用：** 步骤化处理。上一步的结果是下一步的基础。

#### ② Parallel Mixer (并行混合器) | `Alt + P`

- **原生逻辑：** **混合 (Mix)**。
- **定义：** 同一个输入源被复制多份，同时进入多个节点处理。处理完的结果，在 Mixer 处进行**数学平均计算**（Morph）。
- **特性：** 节点之间没有层级之分，它们是平权的。如果你在一个节点加红，另一个节点加蓝，结果是两个颜色的混合值。

#### ③ Layer Mixer (层混合器) | `Alt + L`

- **原生逻辑：** **覆盖 (Composite)**。
- **定义：** 类似物理堆叠。输入源最下方的节点（在连接口上通常排在最后），位于视觉的最顶层。
- **特性：** 具有不透明度（Opacity）和合成模式（Composite Mode，如 Screen/Overlay）。下层节点会遮挡上层节点，除非有 Alpha 通道（透明区域）。

#### ④ Splitter / Combiner (分离/组合器) | `Alt + Y`

- **原生逻辑：** **通道拆分 (Channel Splitting)**。
- **定义：** 将彩色信号转化为三个独立的灰度信号（R、G、B，或者 Y、U、V，取决于色彩空间设置）。
- **作用：** 允许用户单独针对某一个通道的像素数据进行处理（如降噪或锐化），然后再无损合并回彩色图像。

#### ⑤ Outside Node (外部节点) | `Alt + O`

- **原生逻辑：** **Alpha 反转传递 (Inverted Alpha Propagation)**。
- **定义：** 这是一个特殊的串行结构。它不仅接收 RGB 信号，还强制读取上一个节点的 Key（遮罩）数据，并自动执行 **Invert（反转）** 命令。
- **作用：** 自动锁定“上一节点没选中的区域”。

#### ⑥ Shared Node (共享节点)

- **原生逻辑：** **实例链接 (Instance Linking)**。
- **定义：** 这是一个跨 Clip（片段）存在的节点。它的参数存储在全局数据库中，而非当前片段中。
- **作用：** 修改任意一个共享节点，所有调用了该共享节点的片段都会实时同步更新。

------

### 3. 节点内部的“信号流” (Internal Signal Flow)

当你操作一个节点时，数据在节点**内部**也是有固定处理顺序的（这一点非常重要，决定了操作优先级）：

**顺序如下：**

1. **Input** (输入信号)
2. **Ext. Matte** (外部遮罩输入，如果有)
3. **Windows** (你的 Power Window 遮罩)
4. **Qualifier** (你的吸管抠像)
   - *注：Window 和 Qualifier 的交集生成最终的 Key（选区）。*
5. **OFX** (如果挂载了特效)
6. **Color Correction** (色轮、曲线等校色操作)
7. **Sizing/Key Sizing** (节点内的缩放/平移)
8. **Output** (输出信号)

*(这意味着：无论你先调色轮还是先画遮罩，软件内部永远是先算遮罩范围，再在范围里应用色轮。)*

------

### 4. 关键数据类型 (Data Types)

在节点连接线上，你会看到两种颜色的点和线：

- **🟩 绿色 (RGB Input/Output)：**
  - 传输**图像数据**（红绿蓝色彩信息 + 整体亮度）。
  - 这是主干道。
- **🟦 蓝色 (Key/Alpha Input/Output)：**
  - 传输**遮罩数据**（黑白灰度信息，0=透明，1=不透明）。
  - 用于告诉下一个节点：“只处理白色的区域”。

------

### 5. 层级关系 (Hierarchy)

达芬奇的调色不仅仅在“片段”上，它有严格的优先级（从下到上）：

1. **Clip Node Graph (片段级)：** 针对当前单个视频素材。
2. **Group Pre-Clip (组前级)：** 针对这一组素材，在 Clip 级**之前**生效（统一定义底色）。
3. **Group Post-Clip (组后级)：** 针对这一组素材，在 Clip 级**之后**生效（统一风格）。
4. **Timeline (时间线级)：** 针对整条时间线所有素材，最后生效（统一加黑边、水印或全局 LUT）。

------

这就是**纯粹的 DaVinci Resolve**。没有比喻，只有它自己的规则。

# 将 OFX理解为  串行节点，好些。

**完全没毛病！这就是最“实战派”的理解方式。**

如果你把 OFX 当作一个**“特殊的串行节点”**来用，在 99% 的剪辑工作中，不仅逻辑通顺，而且效率最高。

### 为什么这样理解是对的？

因为在节点图（Node Graph）的**连接逻辑**上，它和串行节点**一模一样**：

1. **占位一样：** 它也是一个矩形方块，也是占一个坑。
2. **接口一样：** 左边进一个绿点（输入），右边出一个绿点（输出）。
3. **地位一样：** 它是“拦路虎”。信号必须穿过它，被它处理完（比如加了发光），才能去下一个节点。

------

### 唯一需要注意的“区别”

当你把它当作串行节点用时，只要记住**唯一一条操作铁律**，就不会翻车：

- **普通串行节点：** 你去摸**底下的色轮**（Lift/Gamma/Gain）。
- **OFX 串行节点：** 你去摸**右上角的参数栏**（Settings/Inspector）。

> **总结你的笔记：**
>
> **OFX = 一个控制面板变了样的串行节点。**

按照这个理解去干活，完全没问题！你的直觉非常准，这能帮你省去很多不必要的理论纠结。